<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create or Reconstruct an INSPIRE Grid — inspire_grid • gridmaker</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create or Reconstruct an INSPIRE Grid — inspire_grid"><meta name="description" content="Generates a standard-compliant spatial grid aligned to the CRS origin.
This function acts as a unified interface:
If x is a spatial object (extent), it creates a new grid (calling inspire_grid_from_extent).
If x is a character vector (INSPIRE IDs), it reconstructs the grid (calling inspire_grid_from_ids).


It combines high performance for large areas (using sfheaders) with a
flexible and robust set of features for input handling and output formatting,
including INSPIRE-compliant grid IDs and automatic parallel processing with
mirai and future backends.
This function takes a vector of INSPIRE-compliant IDs and derives a
regular spatial grid from it. For generating a spatial grid from a spatial
extent, see inspire_grid_from_extent."><meta property="og:description" content="Generates a standard-compliant spatial grid aligned to the CRS origin.
This function acts as a unified interface:
If x is a spatial object (extent), it creates a new grid (calling inspire_grid_from_extent).
If x is a character vector (INSPIRE IDs), it reconstructs the grid (calling inspire_grid_from_ids).


It combines high performance for large areas (using sfheaders) with a
flexible and robust set of features for input handling and output formatting,
including INSPIRE-compliant grid IDs and automatic parallel processing with
mirai and future backends.
This function takes a vector of INSPIRE-compliant IDs and derives a
regular spatial grid from it. For generating a spatial grid from a spatial
extent, see inspire_grid_from_extent."><meta property="og:image" content="http://www.ekotov.pro/gridmaker/reference/figures/card.png"><meta property="og:image:alt" content="gridmaker: Create INSPIRE-compliant grids with IDs"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@EgorKotov"><meta name="twitter:site" content="@EgorKotov"><!-- counter.dev analytics --><script data-goatcounter="https://jukadipos.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script><!-- counter.dev analytics --><script src="https://cdn.counter.dev/script.js" data-id="7e3e8d31-9a84-48b0-a678-a00715236a90" data-utcoffset="1"></script><script>
 (function(h,o,t,j,a,r){
     h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
     h._hjSettings={hjid:3578286,hjsv:6};
     a=o.getElementsByTagName('head')[0];
     r=o.createElement('script');r.async=1;
     r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
     a.appendChild(r);
 })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gridmaker</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/gridmaker.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Get Started</h6></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/grid-to-disk.html">Create grid directly on disk (low memory usage)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/e-kotov/gridmaker/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create or Reconstruct an INSPIRE Grid</h1>
      <small class="dont-index">Source: <a href="https://github.com/e-kotov/gridmaker/blob/main/R/inspire_grid.R" class="external-link"><code>R/inspire_grid.R</code></a>, <a href="https://github.com/e-kotov/gridmaker/blob/main/R/inspire_grid_from_ids.R" class="external-link"><code>R/inspire_grid_from_ids.R</code></a></small>
      <div class="d-none name"><code>inspire_grid.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generates a standard-compliant spatial grid aligned to the CRS origin.
This function acts as a unified interface:</p><ul><li><p>If <code>x</code> is a spatial object (extent), it creates a new grid (calling <code>inspire_grid_from_extent</code>).</p></li>
<li><p>If <code>x</code> is a character vector (INSPIRE IDs), it reconstructs the grid (calling <code>inspire_grid_from_ids</code>).</p></li>
</ul><p>It combines high performance for large areas (using <code>sfheaders</code>) with a
flexible and robust set of features for input handling and output formatting,
including INSPIRE-compliant grid IDs and automatic parallel processing with
<code>mirai</code> and <code>future</code> backends.</p>
<p>This function takes a vector of INSPIRE-compliant IDs and derives a
regular spatial grid from it. For generating a spatial grid from a spatial
extent, see <code>inspire_grid_from_extent</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">inspire_grid</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  cellsize_m <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  crs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_type <span class="op">=</span> <span class="st">"sf_polygons"</span>,</span>
<span>  clip_to_input <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use_convex_hull <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  buffer_m <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  id_format <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>  axis_order <span class="op">=</span> <span class="st">"NE"</span>,</span>
<span>  include_llc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  point_type <span class="op">=</span> <span class="st">"centroid"</span>,</span>
<span>  parallel <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dsn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_memory_gb <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  include_rat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'sf'</span></span>
<span><span class="fu">inspire_grid</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  cellsize_m <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  crs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_type <span class="op">=</span> <span class="st">"sf_polygons"</span>,</span>
<span>  clip_to_input <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use_convex_hull <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  buffer_m <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  id_format <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>  axis_order <span class="op">=</span> <span class="st">"NE"</span>,</span>
<span>  include_llc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  point_type <span class="op">=</span> <span class="st">"centroid"</span>,</span>
<span>  parallel <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dsn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_memory_gb <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  include_rat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'sfc'</span></span>
<span><span class="fu">inspire_grid</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  cellsize_m <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  crs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_type <span class="op">=</span> <span class="st">"sf_polygons"</span>,</span>
<span>  clip_to_input <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use_convex_hull <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  buffer_m <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  id_format <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>  axis_order <span class="op">=</span> <span class="st">"NE"</span>,</span>
<span>  include_llc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  point_type <span class="op">=</span> <span class="st">"centroid"</span>,</span>
<span>  parallel <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dsn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_memory_gb <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  include_rat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'bbox'</span></span>
<span><span class="fu">inspire_grid</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  cellsize_m <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  crs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_type <span class="op">=</span> <span class="st">"sf_polygons"</span>,</span>
<span>  clip_to_input <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use_convex_hull <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  buffer_m <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  id_format <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>  axis_order <span class="op">=</span> <span class="st">"NE"</span>,</span>
<span>  include_llc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  point_type <span class="op">=</span> <span class="st">"centroid"</span>,</span>
<span>  parallel <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dsn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_memory_gb <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  include_rat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'numeric'</span></span>
<span><span class="fu">inspire_grid</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  cellsize_m <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  crs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_type <span class="op">=</span> <span class="st">"sf_polygons"</span>,</span>
<span>  clip_to_input <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use_convex_hull <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  buffer_m <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  id_format <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>  axis_order <span class="op">=</span> <span class="st">"NE"</span>,</span>
<span>  include_llc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  point_type <span class="op">=</span> <span class="st">"centroid"</span>,</span>
<span>  parallel <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dsn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_memory_gb <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  include_rat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'matrix'</span></span>
<span><span class="fu">inspire_grid</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  cellsize_m <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  crs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_type <span class="op">=</span> <span class="st">"sf_polygons"</span>,</span>
<span>  clip_to_input <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use_convex_hull <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  buffer_m <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  id_format <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>  axis_order <span class="op">=</span> <span class="st">"NE"</span>,</span>
<span>  include_llc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  point_type <span class="op">=</span> <span class="st">"centroid"</span>,</span>
<span>  parallel <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dsn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_memory_gb <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  include_rat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'character'</span></span>
<span><span class="fu">inspire_grid</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  cellsize_m <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  crs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_type <span class="op">=</span> <span class="st">"sf_polygons"</span>,</span>
<span>  clip_to_input <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use_convex_hull <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  buffer_m <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  id_format <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>  axis_order <span class="op">=</span> <span class="st">"NE"</span>,</span>
<span>  include_llc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  point_type <span class="op">=</span> <span class="st">"llc"</span>,</span>
<span>  parallel <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dsn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_memory_gb <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  include_rat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">inspire_grid_from_extent</span><span class="op">(</span></span>
<span>  <span class="va">grid_extent</span>,</span>
<span>  <span class="va">cellsize_m</span>,</span>
<span>  crs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_type <span class="op">=</span> <span class="st">"sf_polygons"</span>,</span>
<span>  clip_to_input <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use_convex_hull <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  buffer_m <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  id_format <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>  axis_order <span class="op">=</span> <span class="st">"NE"</span>,</span>
<span>  include_llc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  point_type <span class="op">=</span> <span class="st">"centroid"</span>,</span>
<span>  parallel <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dsn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_memory_gb <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  include_rat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">inspire_grid_from_ids</span><span class="op">(</span></span>
<span>  <span class="va">ids</span>,</span>
<span>  point_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"llc"</span>, <span class="st">"centroid"</span><span class="op">)</span>,</span>
<span>  output_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sf_polygons"</span>, <span class="st">"sf_points"</span>, <span class="st">"dataframe"</span><span class="op">)</span>,</span>
<span>  include_llc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  id_format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"both"</span>, <span class="st">"long"</span>, <span class="st">"short"</span><span class="op">)</span>,</span>
<span>  axis_order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NE"</span>, <span class="st">"EN"</span><span class="op">)</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dsn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>The main input object: either a spatial object (extent) or a character vector (INSPIRE IDs).</p></dd>


<dt id="arg-cellsize-m">cellsize_m<a class="anchor" aria-label="anchor" href="#arg-cellsize-m"></a></dt>
<dd><p>A single integer representing the grid cell size in metres
(e.g., 1000 for a 1 km grid). Required for spatial inputs.</p></dd>


<dt id="arg-crs">crs<a class="anchor" aria-label="anchor" href="#arg-crs"></a></dt>
<dd><p>The coordinate reference system (CRS) for the output grid.
Accepts various formats handled by <code><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">sf::st_crs()</a></code>: an integer or numeric
EPSG code (e.g., <code>3035</code>), a string representation like <code>"epsg:3035"</code>, or
a <code>crs</code> object. If <code>NULL</code> (default), the CRS is inherited from
the spatial input. If the input also lacks a CRS, the function will stop
with an error.</p></dd>


<dt id="arg-output-type">output_type<a class="anchor" aria-label="anchor" href="#arg-output-type"></a></dt>
<dd><p>The class of the output object: <code>"sf_polygons"</code> (default) creates
a spatial object with polygon geometries, <code>"sf_points"</code> creates an <code>sf</code>
object with point geometries, <code>"dataframe"</code> creates a data frame with
grid cell centroid coordinates (<code>X_centroid</code>, <code>Y_centroid</code>), and
<code>"spatraster"</code> creates a <code><a href="https://rspatial.github.io/terra/reference/SpatRaster-class.html" class="external-link">terra::SpatRaster</a></code> object with grid cell IDs
stored as factor levels (Raster Attribute Table).
<strong>Note:</strong> <code>"spatraster"</code> is only supported by <code>inspire_grid_from_extent()</code>,
not by <code>inspire_grid_from_ids()</code>.</p></dd>


<dt id="arg-clip-to-input">clip_to_input<a class="anchor" aria-label="anchor" href="#arg-clip-to-input"></a></dt>
<dd><p>A logical value. If <code>TRUE</code>, the grid is filtered to
include only cells that intersect the spatial input. This does not cut
cell geometries.</p></dd>


<dt id="arg-use-convex-hull">use_convex_hull<a class="anchor" aria-label="anchor" href="#arg-use-convex-hull"></a></dt>
<dd><p>A logical value. If <code>TRUE</code> and <code>clip_to_input</code> is
<code>TRUE</code>, the grid is clipped to the convex hull of the input geometry,
which can be faster and simpler than using a complex polygon.</p></dd>


<dt id="arg-buffer-m">buffer_m<a class="anchor" aria-label="anchor" href="#arg-buffer-m"></a></dt>
<dd><p>A numeric value. If <code>clip_to_input</code> is <code>TRUE</code>, this specifies
a buffer distance in metres to apply to the spatial input before clipping.
Defaults to <code>0</code> (no buffer).</p></dd>


<dt id="arg-id-format">id_format<a class="anchor" aria-label="anchor" href="#arg-id-format"></a></dt>
<dd><p>A character string specifying which grid cell IDs to generate.
Options are <code>"both"</code> (default), <code>"long"</code>, <code>"short"</code>, or <code>"none"</code>.</p></dd>


<dt id="arg-axis-order">axis_order<a class="anchor" aria-label="anchor" href="#arg-axis-order"></a></dt>
<dd><p>A character string specifying the coordinate order for the
output Short INSPIRE IDs. This parameter is <strong>only used when <code>id_format</code> is
<code>"short"</code> or <code>"both"</code></strong>. It can be one of:</p><ul><li><p><code>"NE"</code> (the default) to produce the format <code>{cellsize}N{y}E{x}</code>.</p></li>
<li><p><code>"EN"</code> to produce the format <code>{cellsize}E{x}N{y}</code> (e.g. this format is used in <a href="https://www.dst.dk/en/TilSalg/produkter/geodata/kvadratnet" class="external-link">Danish national grid</a>).</p></li>
</ul></dd>


<dt id="arg-include-llc">include_llc<a class="anchor" aria-label="anchor" href="#arg-include-llc"></a></dt>
<dd><p>A logical value. If <code>TRUE</code> (default), columns for the
lower-left corner coordinates (<code>X_LLC</code>, <code>Y_LLC</code>) of each cell are included
in the output.</p></dd>


<dt id="arg-point-type">point_type<a class="anchor" aria-label="anchor" href="#arg-point-type"></a></dt>
<dd><p>A character string determining the location of the points
when <code>output_type = "sf_points"</code>: <code>"centroid"</code> for the center of the cell,
or <code>"llc"</code> for the lower-left corner. Default is <code>"llc"</code>.</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>Controls parallel execution. Options are:</p><ul><li><p><strong><code>'auto'</code> (default):</strong> Automatically detects and uses a configured
<code>mirai</code> or <code>future</code> backend if one is available. If both are set, it
prefers the one with more available workers and issues a warning. If
neither is configured, it runs sequentially.</p></li>
<li><p><strong><code>TRUE</code>:</strong> Forces the function to attempt parallel execution. It
will raise an error if a valid parallel backend (with &gt;1 worker) is
not configured.</p></li>
<li><p><strong><code>FALSE</code>:</strong> Forces the function to run in single-threaded
sequential mode.</p></li>
</ul><p>For parallelism, you must configure a backend <em>before</em> calling this
function, for example: <code>mirai::daemons(8)</code> or <code>future::plan("multisession", workers = 8)</code>.
<strong>Performance tip:</strong> Benchmarks show 4-8 workers provide optimal performance for most
grid sizes. Using &gt;8 workers typically yields diminishing returns due to I/O bottlenecks.
The function automatically limits active workers for small grids to minimize overhead:
&lt;50k cells use max 4 workers, &lt;500k cells use max 8 workers, &lt;2M cells use max 16 workers.
This automatic limiting can be overridden by setting <code>options(gridmaker.tile_multiplier)</code>.
<strong>Note:</strong> Parallel processing support depends on the backend and output type:</p><ul><li><p><strong><code>mirai</code> backend:</strong> Supports parallel processing for all outputs, including efficient disk streaming. This is the recommended modern backend that also runs asynchronously, which allows it to pass chunks of grid that are ready to the disk writer and therefore makes streaming to disk efficient, as there is no need to all data in memory first.</p></li>
<li><p><strong><code>future</code> backend:</strong> Supports parallel processing <strong>only</strong> for in-memory vector generation (<code>sf</code>, <code>dataframe</code>). It does not support raster output or disk-based streaming (falls back to sequential), because it would need to first accumualte all data in memory before writing to disk, negating the benefits of streaming.</p></li>
</ul></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>Logical value. If <code>TRUE</code>, all progress messages and progress bars are suppressed. Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg-dsn">dsn<a class="anchor" aria-label="anchor" href="#arg-dsn"></a></dt>
<dd><p>The destination for the output grid. For sf objects, this is passed to
<code><a href="https://r-spatial.github.io/sf/reference/st_write.html" class="external-link">sf::st_write</a></code>. For <code>spatraster</code> output, this uses <code><a href="https://rspatial.github.io/terra/reference/writeRaster.html" class="external-link">terra::writeRaster</a></code>.
This can be a file path (e.g., <code>"path/to/grid.gpkg"</code> for vector data or
<code>"path/to/grid.tif"</code> for raster data) or a database connection string.
If <code>dsn</code> is provided, the grid is written to the specified location
instead of being returned as an object.</p>
<p><strong>Supported vector formats for chunked disk writes:</strong></p><ul><li><p><code>.gpkg</code> (GeoPackage) - <strong>Recommended</strong> - Best balance of speed, compatibility, and modern features</p></li>
<li><p><code>.parquet</code>, <code>.geoparquet</code> (GeoParquet) - Modern columnar format, excellent for large grids (requires sf 1.0+/GDAL 3.5+)</p></li>
<li><p><code>.shp</code> (Shapefile) - Widely used, fast writes, but has limitations (10-char field names, 2GB limit)</p></li>
<li><p><code>.geojson</code>, <code>.json</code> (GeoJSON) - Web-friendly, works but slower for large grids</p></li>
<li><p><code>.geojsonl</code>, <code>.geojsonseq</code> (GeoJSONSeq) - Newline-delimited GeoJSON</p></li>
<li><p><code>.sqlite</code> (SQLite/SpatiaLite) - Database format (GeoPackage is built on SQLite)</p></li>
<li><p><code>.fgb</code> (FlatGeobuf) - Cloud-optimized format</p></li>
<li><p><code>.csv</code>, <code>.tsv</code>, <code>.txt</code> (for dataframe output only)</p></li>
</ul><p>Other formats not listed have not been tested and will generate a warning.</p></dd>


<dt id="arg-layer">layer<a class="anchor" aria-label="anchor" href="#arg-layer"></a></dt>
<dd><p>The name of the grid layer, passed directly to <code><a href="https://r-spatial.github.io/sf/reference/st_write.html" class="external-link">sf::st_write</a></code>.
Its interpretation depends on the destination driver. For a GeoPackage
file, this will be the layer name. If <code>dsn</code> is a file path and <code>layer</code> is
not specified, it defaults to the file's base name.</p></dd>


<dt id="arg-max-memory-gb">max_memory_gb<a class="anchor" aria-label="anchor" href="#arg-max-memory-gb"></a></dt>
<dd><p>A numeric value. Maximum memory in gigabytes to use for grid creation. Default is <code>NULL</code>, in which case there is an automatic limit based on <strong>available free system memory</strong> (not total system RAM). Using this argument allows manual override, which is recommended on certain HPC (High Performance Computing) systems where jobs are allocated a fixed amount of memory that is less than the total free memory of the allocated node.</p></dd>


<dt id="arg-include-rat">include_rat<a class="anchor" aria-label="anchor" href="#arg-include-rat"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, generate a Raster Attribute Table (RAT)
mapping numeric cell IDs to INSPIRE grid ID strings. Default is <code>FALSE</code>.</p>
<p><strong>What is a RAT?</strong> A Raster Attribute Table stores metadata (like INSPIRE IDs)
for each unique raster value. Without RAT, raster cells contain only numeric
IDs (1, 2, 3...). With RAT, software like QGIS/R can display the IDs as
human-readable labels.</p>
<p><strong>Format-specific behavior:</strong></p><ul><li><p><strong>GeoTIFF (.tif):</strong> RAT stored in <code>.tif.aux.xml</code> sidecar file (XML).
<strong>Warning:</strong> This sidecar can be <strong>larger than the TIFF itself</strong> for large
grids. For chunked/streaming writes, requires a second pass (slower).
Consider KEA or Erdas Imagine formats for large grids with labels.</p></li>
<li><p><strong>KEA (.kea), Erdas Imagine (.img):</strong> RAT embedded natively. <strong>Recommended</strong>
for large grids requiring labels.</p></li>
<li><p><strong>NetCDF (.nc), HDF5 (.hdf):</strong> RAT <strong>not supported</strong>. An error is raised if
<code>include_rat = TRUE</code>.</p></li>
</ul></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to backend handlers.
When writing to text files (e.g., .csv, .tsv) via <code>dsn</code>, these arguments are passed to <code><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_delim</a></code> (e.g., <code>na = "NA"</code>, <code>quote = "all"</code>).
When writing to spatial files via <code>dsn</code>, these are passed to <code><a href="https://r-spatial.github.io/sf/reference/st_write.html" class="external-link">st_write</a></code>.
For <code>output_type = "spatraster"</code> writing, these are passed to <code><a href="https://rspatial.github.io/terra/reference/writeRaster.html" class="external-link">writeRaster</a></code>.
For streaming backends (<code>mirai</code> or sequential), this can include <code>max_cells_per_chunk</code> to control memory usage.</p></dd>


<dt id="arg-grid-extent">grid_extent<a class="anchor" aria-label="anchor" href="#arg-grid-extent"></a></dt>
<dd><p>The spatial object defining the extent. Can be an <code>sf</code> object,
<code>sfc</code> geometry collection, <code>bbox</code>, <code>numeric</code> vector (as c(xmin, ymin, xmax, ymax)),
or <code>matrix</code>.</p></dd>


<dt id="arg-ids">ids<a class="anchor" aria-label="anchor" href="#arg-ids"></a></dt>
<dd><p>A character vector of INSPIRE-compliant grid cell IDs
(e.g., <code>"CRS3035RES100000mN26E43"</code>).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>dsn</code> is <code>NULL</code> (the default), an <code>sf</code> object, <code>data.frame</code>,
or <code>SpatRaster</code> representing the grid. If <code>dsn</code> is specified, the function writes
the grid to a file and returns <code>invisible(dsn)</code>.</p>
<p>An <code>sf</code> object or <code>data.frame</code> representing the grid derived from
the INSPIRE IDs. If <code>dsn</code> is specified, returns <code>invisible(dsn)</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function creates a spatial grid aligned to the CRS origin, with support for
clipping to input geometries, parallel processing, and multiple output formats.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Linking to GEOS 3.12.1, GDAL 3.8.4, PROJ 9.4.0; sf_use_s2() is TRUE</span>
<span class="r-in"><span><span class="co"># Load the sample data from the sf package</span></span></span>
<span class="r-in"><span><span class="va">nc_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"shape/nc.shp"</span>, package <span class="op">=</span> <span class="st">"sf"</span><span class="op">)</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Define target projected CRS and cell size</span></span></span>
<span class="r-in"><span><span class="va">target_crs</span> <span class="op">&lt;-</span> <span class="fl">5070</span> <span class="co"># NAD83 / Conus Albers</span></span></span>
<span class="r-in"><span><span class="va">cellsize_m</span> <span class="op">&lt;-</span> <span class="fl">10000</span> <span class="co"># 10 km</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Project the data</span></span></span>
<span class="r-in"><span><span class="va">nc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span><span class="va">nc_raw</span>, <span class="va">target_crs</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a grid covering the data</span></span></span>
<span class="r-in"><span><span class="va">nc_grid</span> <span class="op">&lt;-</span> <span class="fu">inspire_grid_from_extent</span><span class="op">(</span></span></span>
<span class="r-in"><span>  grid_extent <span class="op">=</span> <span class="va">nc</span>,</span></span>
<span class="r-in"><span>  cellsize_m <span class="op">=</span> <span class="va">cellsize_m</span>,</span></span>
<span class="r-in"><span>  output_type <span class="op">=</span> <span class="st">"sf_polygons"</span>,</span></span>
<span class="r-in"><span>  clip_to_input <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No parallel backend detected. Running in sequential mode.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Tip: Your system has 4 cores. Configure a parallel backend for faster grid generation.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or using the S3 generic</span></span></span>
<span class="r-in"><span><span class="va">nc_grid</span> <span class="op">&lt;-</span> <span class="fu">inspire_grid</span><span class="op">(</span><span class="va">nc</span>, cellsize_m <span class="op">=</span> <span class="va">cellsize_m</span>, clip_to_input <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No parallel backend detected. Running in sequential mode.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Tip: Your system has 4 cores. Configure a parallel backend for faster grid generation.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">nc_grid</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 3 features and 4 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POLYGON</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: 1570000 ymin: 1340000 xmax: 1600000 ymax: 1360000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Projected CRS: NAD83 / Conus Albers</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     X_LLC   Y_LLC                      GRD_ID_LONG GRD_ID_SHORT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1580000 1340000 CRS5070RES10000mN1340000E1580000 10kmN134E158</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 1590000 1340000 CRS5070RES10000mN1340000E1590000 10kmN134E159</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 1570000 1350000 CRS5070RES10000mN1350000E1570000 10kmN135E157</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 POLYGON ((1580000 1340000, ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 POLYGON ((1590000 1340000, ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 POLYGON ((1570000 1350000, ...</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">inspire</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"CRS3035RES100000mN26E43"</span>, <span class="st">"CRS3035RES100000mN26E44"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"CRS3035RES100000mN27E41"</span>, <span class="st">"CRS3035RES100000mN27E42"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"CRS3035RES100000mN27E43"</span>, <span class="st">"CRS3035RES100000mN27E44"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">grid</span> <span class="op">&lt;-</span> <span class="fu">inspire_grid_from_ids</span><span class="op">(</span><span class="va">inspire</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">grid</span><span class="op">$</span><span class="va">geometry</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="inspire_grid-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or using the S3 generic</span></span></span>
<span class="r-in"><span><span class="va">grid</span> <span class="op">&lt;-</span> <span class="fu">inspire_grid</span><span class="op">(</span><span class="va">inspire</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">grid</span><span class="op">$</span><span class="va">geometry</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.ekotov.pro" class="external-link">Egor Kotov</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

